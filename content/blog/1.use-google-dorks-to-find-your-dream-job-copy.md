---
title: How to Fix HTML Elements On Top of the Keyboard on iOS Safari using CSS and JS
description: Currently the only way to fix a simple html element to the bottom
  of your apple devices screen...
loc: /blog/fix-html-elements-on-top-of-the-ios-keyboard-using-html-css-js
draft: true
date: 2024-12-09T18:23:00.000Z
emojis:
  - üçè
  - üêõ
---

# How to fix elements on top of the keyboard on iOS Safari

Yes, yet another one of those reasons why every developers love Apple.

Irony appart, you're probably here because you want an HTML element (maybe a dock) to stick just on the bottom of your screen but actually doesn't get hidden by the virtual keyboard, so let's get started.

## Clean way (chromium only)

First let me share the clean way of achieving this. Thanks to the [VirtualKeyboard API](https://developer.mozilla.org/en-US/docs/Web/API/VirtualKeyboard_API) which exports a set of CSS env variables `keyboard-inset-*` , we can use `keyboard-inset-height` as bottom value for our sticky element.

[Check the demo.](/lab/virtual-keyboard-api-demo)

```css [main.css]
.my-sticky-div {
  position: sticky;
  bottom: env(keyboard-inset-height);
}
```

The only negative part with this solution is that it requires JS.

```js [main.js]
if ("virtualKeyboard" in navigator) {
  navigator.virtualKeyboard.overlaysContent = true;
}
```

By the way don't expect this to work on non HTTPS websites!

### Using tailwindcss

You could easily create new spacing values in the tailwind config:

```js [tailwind.config.mjs]
export default {
  theme: {
    extend: {
      spacing: {
        "kb-height": "env(keyboard-inset-height, 0)",
        "kb-width": "env(keyboard-inset-width, 0)",
      },
    },
  },
};
```

### Available env variables

- keyboard-inset-top
- keyboard-inset-right
- keyboard-inset-bottom
- keyboard-inset-left
- keyboard-inset-width
- keyboard-inset-height

## iOS workaround

Now let's get our hands dirty...

Basically we're using the fact that the viewport is shifted to the top on iOS devices when keyboard is opened.

```js [main.js]
const dock = document.getElementById('dock');
const vv = window.visualViewport;

function fixPosition() {
  const ih = window.innerHeight;

  if (dock.value) {
    dock.value.style.bottom = `${Math.max(0, ih - vv.height - vv.offsetTop)}px`;
  }
}
```

## Conclusion

As always building for iOS web is not straightforward, I hope this small blog article has helped you and I wish you good luck for the next iOS issue you will encounter!

## Sources

- https\://ishadeed.com/article/virtual-keyboard-api/
-
